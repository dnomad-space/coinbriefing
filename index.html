<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코인브리핑 - AI가 요약한 오늘의 코인 뉴스</title>
    <link rel="icon" type="image/svg+xml" href="./assets/icon.svg">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="./style.css">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9WDXDZ6TBZ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-9WDXDZ6TBZ');
    </script>
</head>
<body>
    <header class="header container">
        <img class="logo" src="./assets/icon.svg" alt="코인브리핑 로고" />
        <a href="#" class="btn btn-primary download-button">앱 다운로드</a>
    </header>

    <main>
        <section class="hero container">
            <h1>코인 시장, 하루 한 장으로 끝!<br>데이터기반 AI 분석 <span>코인브리핑.</span></h1>
            <div class="image-placeholder hero-image"></div>
        </section>
        
        <section class="features container">
            <div class="feature-grid">
                <div class="feature-item">
                    <h3>한장 브리핑</h3>
                    <p>매일 아침, AI가 수많은 뉴스와 데이터를 분석하여 시장의 핵심만 한 장으로 요약해 드려요.</p>
                </div>
                <div class="feature-item">
                    <h3>심층 AI 분석</h3>
                    <p>차트, 파생상품, 시장 심리까지. 데이터 너머의 인사이트를 담은 전문가 수준의 분석을 제공합니다.</p>
                </div>
                <div class="feature-item">
                    <h3>지속적인 브리핑</h3>
                    <p>일관된 브리핑 시간으로 코인 시장의 흐름을 놓치지 않게 코인브리핑이 도와드립니다.</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer container">
        <div class="footer-text">
            Copyright ⓒ 코인브리핑. All right reserved.
        </div>
        <div class="footer-links">
            <a href="mailto:dnomad.space@gmail.com" id="contact-link">문의하기</a>
            <a href="https://dnomad-space.github.io/coinbriefing/privacy/" target="_blank" id="privacy-policy-link">개인정보처리방침</a>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const downloadButtons = document.querySelectorAll('.download-button');
            const contactLink = document.getElementById('contact-link');
            const privacyPolicyLink = document.getElementById('privacy-policy-link');

            // OS에 따라 적절한 앱 스토어 링크로 리디렉션하는 함수
            const redirectToStore = () => {
                const IOS_STORE_URL = "https://apps.apple.com/app/6748297262"; 
                const ANDROID_STORE_URL = "https://play.google.com/store/apps/details?id=com.nomad.coinbriefing"; 
                // 데스크탑 등 모바일이 아닐 경우 이동할 기본 URL
                const FALLBACK_URL = "https://dnomad-space.github.io/coinbriefing"; 

                const userAgent = navigator.userAgent || navigator.vendor || window.opera;

                // iOS (아이폰, 아이패드) 감지
                if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                    gtag('event', 'store_link_click', { 'os_type': 'iOS' });
                    window.location.href = IOS_STORE_URL;
                    return;
                }
                
                // 안드로이드 감지
                if (/android/i.test(userAgent)) {
                    gtag('event', 'store_link_click', { 'os_type': 'Android' });
                    window.location.href = ANDROID_STORE_URL;
                    return;
                }
                
                // 그 외 (데스크탑 등)
                gtag('event', 'store_link_click', { 'os_type': 'Desktop' });
                // 데스크탑에서는 앱 설치가 불가능하므로, 사용자에게 안내 메시지를 보여주는 것도 좋은 방법입니다.
                // 예: alert("모바일 기기에서 접속해주세요.");
                // 여기서는 제공해주신 로직대로 fallback URL로 이동시킵니다.
                window.location.href = FALLBACK_URL;
            };

            // 모든 '앱 다운로드' 버튼에 클릭 이벤트 리스너 추가
            downloadButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault(); 
                    gtag('event', 'click_download_cta'); // 다운로드 버튼 클릭 이벤트 추적
                    redirectToStore(); // OS별 스토어 이동 함수 호출
                });
            });

            // 모달 관련 스크립트는 모두 제거했습니다.

            // 기존에 있던 푸터 링크 추적 스크립트는 그대로 유지합니다.
            if (contactLink) {
                contactLink.addEventListener('click', () => {
                    gtag('event', 'click_contact');
                });
            }

            if (privacyPolicyLink) {
                privacyPolicyLink.addEventListener('click', () => {
                    gtag('event', 'click_privacy_policy');
                });
            }
        });
    </script>
</body>
</html>